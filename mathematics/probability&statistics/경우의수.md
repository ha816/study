# 경우의 수(境遇의 數)

확률과 통계의 가장 기본적인 개념이자 가장 중요한 개념. 어떤 사건(일)이 일어날 수 있는 경우의 가짓수를 수로 표현한 것이다.

## 배경지식

시행(試行)
: 관심이 있는 어떤 일의 발생 가능성을 조사하기 위하여 실험하거나 관찰하는 것.

경우(境遇; case)
: 시행을 통해서 얻어진 결과.

표본공간
: 시행을 통하여 발생 가능한 모든 결과(경우)의 집합. 

사건(事件)
: 표본공간 $U$의 부분집합. 수학적으로 가능한 모든 사건의 수는  $2^{|U|}$

경우의 수(境遇의 數)
: 한 번 시행(試行)으로 일어날 수 있는 어떤 사건의 가짓수. 수학적으로는 사건에 포함된 결과(경우)의 갯수다. 

결국 경우의 수를 구한다는 것은 모든 가능한 경우($U$) 중에서 우리가 관심이 있는 조건에 맞는 경우만을 모아 사건을 구성하는 것이다. 이렇게 조건에 맞는 경우를 구해가는 과정에는 합의 법칙과 곱의 법칙을 사용한다. 

## 합의 법칙과 곱의 법칙

같은 표본공간 $U$ 에서 어떤 사건  A의 경우의 수가 $m$이고 사건 B의 경우의 수가 $n$이라고 하자.

### 합의 법칙

**사건 A 또는 B**가 발생한 새로운 사건 C의 경우의수를 알고 싶을때 사용한다. 만약 사건 A와 B가 서로 배반 사건이라면 사건 C의 경우의 수는 $m+n$이다.  배반사건이란 한번의 시행에서 두 사건의 경우가 동시에 발생할 수 없는 사건들을 말한다. 수학적으로는 아래와 같이 나타낸다. 
$$A \cap B =\emptyset$$

예로, 사건 A는 주사위를 던져 1,2가 나오는 경우, 사건 B는 주사위를 던져 3이 나오는 경우를 말한다면, $|A \cup B| = |A| + |B| - |A \cap B| = 2 + 1 = 3$이 성립한다.

### 곱의 법칙

**사건 A와 사건 B가 동시에 발생**하는 경우의 수를 알고 싶다면, 곱의 법칙을 사용한다.  여기서 동시라는 말은 같은 시각을 의미하는게 아니라 경우의 수를 구하는 과정에서 두 사건이 모두 발생해야한다는 것을 말한다. 즉 다수의 시행을 고려한다는 의미다. 

예로, 사건 A를 주사위 던지기를 한번 시행하여 1,2,3이 나오는 사건을 말하고, 사건 B는 주사위를  한번 던지기를 시행하여 2,3이 나오는 사건을 말한다고 하자. 이때 사건 A와 B가 동시에 발생하는 경우의 수는 $|A| * |B| = 3 * 2 =6$이다.

순열의 경우 곱의 법칙으로 생각할 수 있다. 
1부터 n까지 숫자 주머니에서 비복원추출로 하나씩 숫자를 뽑는 것을 사건 $A_n$으로 생각한다면,  순열의 경우의 수는 $|A_n| * |A_{n-1}| * ...*|A_1|$이다.


## 순열(順列, Permutation)

순서를 고려하여 물건을 나열한다는 말. 서로 다른 n개의 원소에서 r개를 **중복없이** 골라 **순서에 상관있게** 나열하는 것.  기호로는  ${}_n\mathrm{P}_{r}$

아래 그림은 서로다른 빨간공, 녹색공, 파란공을 순서에 상관 있게 나열하는 경우를 모두 보인다. $3*2*1 = 6가지$

![ë¹¨ê°•Â·ì´ˆë¡Â·íŒŒëž‘ì˜ ê³µì„ 6ê°€ì§€ì˜ ìˆœì„œëŒ€ë¡œ ë°°ì—´í•œ ê²ƒ](https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Permutations_RGB.svg/220px-Permutations_RGB.svg.png)

### 중복 순열
중복 순열은 순열과 마찬가지로 n개 중에 r개를 순서에 상관있게 뽑는데, **중복을 허락하여** 뽑는 것을 말한다. 거창한 설명이지만 단순히 $n^r$이다.

### 동자 순열(같은 것이 있는 경우의 순열)

n개 중에 r개를 중복없이 순서에 맞게 뽑는데, n개 중에 똑같은 것이 몇개 섞여있을 경우를 말한다. 동자순열의 경우, 일반적인 순열의 경우에서 같은 것이 있는 경우를 제외하면 된다.
좀 더 자세히 이야기 하자면, 먼저 n개를 나열하고 그 중에서, 같은 것이 있는 경우를 제외한다. n!에서 r개의 같은 것을 순서대로 나란히 경우의 수(r!)를  나누는 것과 같다.
즉 동자순열의 경우의수 공식 = $\cfrac {n!}{r!}$

예를 들어 네 개의 문자 a, a, b, c를 일렬로 늘어놓는 순열의 수를 찾아보자. 네 개의 문자를 늘어놓는 방법은 $4!$이다. 같은 것은 a가 2개가 있는것이다. $\cfrac {4!}{2!} =12$이다.

맨앞에 a를 고정하는 경우(6)
[a - a - b - c][a - a - c - b]
[a - b - a - c][a - b - c - a]
[a - c - a - b][a - c - b - a]
맨앞에 b를 고정하는 경우(3)
[b - a - a - c][b - a - c - a][b - c- a - a]
맨앞에 c를 놓는 경우(3)
[c - a - a - b][c - a - b - a][c - b - a - a]

위의 세 가지 경우는 같은 문자 a를 고려한 경우이다. 사실 원래 순자순열 4!의 경우의 수는 아래와 같다. 
$$4! = 6 * 2 + 3 * 2 +  3 * 2 = (6 + 3 + 3) * 2$$

### 원순열

이제 동그란 탁자에 둘러 앉는 경우의 수를 생각하자. 다섯 사람이 동그란 탁자에 둘러 앉는 방법은 $4!$이다. 왜  $5!$이 아닌 $4!$일까? 왜냐하면, 원이  5번 돌아가면 겹치는 순열 다섯을 하나로 보아야하기 때문이다.

예를 들면  12345, 23451, 34512, 45123, 51234는 다른 순열이지만 원으로 만들면 같은 순열이다. 
전체 5! 가지의 가능한 경우 마다 스스로의 경우를 포함하여 5가지의 같은 경우가 존재하기 때문에 5를 나눈다. 23145의 경우에는 31452, 14523, 45231, 52314의 경우와 같기 때문에 5가지 경우를 1가지 경우로 생각해야 한다.

일반적으로 서로 다른  n개를 원탁에 늘어놓는 순열의 경우의수 :  $$\cfrac {n!}{n} = {(n-1)}!$$

## 조합(組合, Combination)

서로 다른 n개의 원소에서 **순서에 상관없이**  r개를 뽑을 때, 이를 n개에서 r개를 택하는 **조합**이라고 한다. 조합은 순열과 다르게 표본집합에 뽑는 순서를 고려하지 않는다. 
기호로는 ${}_n\mathrm{C}_{r}$

$${}_n\mathrm{C}_{r} = \cfrac {{}_n\mathrm{P}_{r}}{r!} = \cfrac {n!}{r!(n-r)! } $$

r개를 순열로 나열한 다음, 중복이 되는 r!개 나누는 것이 조합의 핵심이다.

간단한 예를 들어, 숫자 1,2,3이 있는 주머니에서 두 번 숫자를 뽑을때  나올 수 있는 표본 집합은 {(1,2), (1,3),(2,3)}이다. 1,2가 순서대로 나오는 경우와 2,1이 순서대로 나오는 경우를 모두 하나의 경우(1,2)로 취급한다. 

### 조합의 성질

#### ${}_n\mathrm{C}_{r}​={}_n\mathrm{C}_{n-r}​$ 
n개중 r개를 뽑는 조합의 수는 n-r개를 뽑는 조합의 수가 같다. 사실 r개를 뽑고나면 n-r개가 남는데, 이것은 n-r개를 뽑는 것과 같다. 직접 전개하여 증명할 수도 있다. 

#### ${}_n\mathrm{C}_{r}​={}_{n-1}\mathrm{C}_{r-1} + {}_{n-1}\mathrm{C}_{r} (파스칼의 삼각형)$
	
![íŒŒìŠ¤ì¹¼ì˜ ì‚¼ê°í˜•ì— ëŒ€í•œ ì´ë¯¸ì§€ ê²€ìƒ‰ê²°ê³¼](https://upload.wikimedia.org/wikipedia/commons/thumb/4/4b/Pascal_triangle.svg/550px-Pascal_triangle.svg.png)

n개의 물체에서  r개를 고른다하자. 먼저  n개중 1개를 고정시킨다. 그럼 구하고자하는 경우의 수는 그 1개가 있을 경우와 없을 경우의 2가지 뿐이다. 전자의 경우  n−1개 중  r−1개를 고르면 되므로 가짓 수는 ${}_{n-1}\mathrm{C}_{r-1}$. 후자의 경우  n-1개 중  r개를 고르면 되므로 가짓 수는  ${}_{n-1}\mathrm{C}_{r}$. 합의 법칙에 의해,  ${}_n\mathrm{C}_{r}​={}_{n-1}\mathrm{C}_{r-1} + {}_{n-1}\mathrm{C}_{r}$.
    
#### 이항정리

 $(a+b)^n$ 전개식을 계산할 때 쓰이는 정리이다.

음이 아닌 정수 n과 **이항계수(binomial coefficient)**  
${}_n\mathrm{C}_{r} = \cfrac {n!}{r!(n-r)! }$에 대해 다음 전개식이 성립한다. 
$$(a+b)^n = \sum_{r=0}^n {}_n\mathrm{C}_{r} a^{n-r}b^r $$

$$ = {}_n\mathrm{C}_{0} a^n+{}_n\mathrm{C}_{1} a^{n-1}b + {}_n\mathrm{C}_{2} a^{n-2}b^2 + ... + {}_n\mathrm{C}_{r} a^{n-r}b^r $$

 $(a+b)^2$부터 차례대로 생각을 해보자. $(a+b)(a+b)$는 앞에 a로 부터 차례대로 $a^2 + ab + ba + b^2$을 얻게 되고 정리하면 $a^2 + 2ab + b^2$가 된다. 이 의미는 a와 b가 들어 있는 주머니에서 복원 추출로 두 번을 뽑는 것과 같다.  그렇게  $(a+b)^2$는 순서를 고려한 가능한 경우마다 a 또는 b를 곱한 값들을 모두 더한것과 똑같다.

$(a+b)^3$도 $a^2 + ab + ba + b^2$를 살려 계산하면 $a^3 + a^2b+a^2b+ab^2+ba^2+b^2a+b^2a+b^3$이 된다. 이 역시 a와 b가 들어 있는 주머니에서 복원 추출로 세 번 뽑기를 하는 사건이고 가능한 순서쌍마다 a 또는 b를 곱한 값들을 모두 더한 것과 같다. 

$a^3$은 (a, a, a)가 나온 경우, $a^2b$는 (a,a,b), (a,b,a), (b,a,a)가 나온 세 가지 경우, $ab^2$는 (a,b,b), (b,b,a), (b,a,b)가 나온 세 가지 경우, $b^3$은 (b,b,b)가 나온 딱 한 경우이다. 

a와 b를 숫자 1로 가정하고 이항정리를 정리하면, $$2^n = \sum_{r=0}^n {}_n\mathrm{C}_{r} = {}_n\mathrm{C}_{0} +{}_n\mathrm{C}_{1} + ... +{}_n\mathrm{C}_{n}$$ 
즉 n개의 뽑기에서 가능한 모든 조합 수의 합이다. 다른 말로는 가능한 부분집합을 뽑는 모든 가능한 경우의 합이다. 




<!--stackedit_data:
eyJoaXN0b3J5IjpbOTY3MzYyNl19
-->