# 탐욕법

탐욕법(Greedy Method)은 가장 직관적인 알고리즘 설계 패러다임 중 하나다. 탐욕법을 이용한 알고리즘, 혹은 탐욕적인 알고리즘은 우리가 원하는 답을 재귀 호출과 똑같이 여러 조각으로 쪼개고, 각 단계마다 답의 결과를 만들어 간다는 점에서 동적계획법, 완전탐색과 비슷하다. 하지만 탐욕법은 두 방법과 달리, 각 단계마다 지금 당장 가장 좋은 방법만을 선택한다. 

예를 들어, 외판원 문제는 모든 도시들을 하나씩 검사하여 필요한 거리를 최소화하는 경로를 찾는다. 탐욕법은 지금의 선택이 앞으로 남은 선택에 어떤 영향을 미칠지 고려하지 않고 당장 눈앞에 최소 경로를 가지는 도시를 선택한다. 

당연히 이런 간단한 방법으로는 우리가 원하는 정답이 나올리 없다. 탐욕적 알고리즘은 대체로 최적해를 찾지 못한다. 따라서 탐욕법이 사용되는 경우는 크게 두가지로 제한된다. 

1. 탐욕법을 사용해도 최적해를 구할 수 있는 문제인 경우, 탐욕법은 동적계획법보다 수행시간이 훨씬 빠르기 때문에 유용하다.
2. 시간이나 공간적 제약으로 다른 방법으로 최적해를 찾기 너무 어려운 경우, 최적해 대신 적당한 답을 찾는 것으로 타협이 가능하다. 이럴때 탐욕법이 유용하게 사용된다.

탐욕법의 개념은 간단하지만 굉장히 어려운 주제다. 한 문제를 해결하는데 탐욕적으로 해결하는 방법이 한가지만이 아닌 경우도 많고, 어느 방법을 선택해야 최적해를 구하는지 알기가 어렵기 때문이다. 실제로 최적해를 얻을 수 있는 접근이 직관적이지 않은 경우도 많다. 그러니 탐욕적 알고리즘을 풀때는 정당성 증명과정을 정확히 하는게 좋다. 


## 회의실 예약(ActivitySelectionProblem)

회사에 회의실이 하나밖에 없는데 $n(<= 100)$개의 팀이 각각 하루동안 회의하고 싶은 최소 한 시간 단위의 시간(08:00~18:00)을 제출했다고 하자. 다수의 팀이 한 회의실을 동시에 쓸수없기 때문에 이 중 서로 겹치지 않는 회의들을 잡아야 하는데, 최대 몇개나 선택할 수 있을까?

서로 시간이 겹치지 않는 회의들의 집합이 모두 이 문제의 답이다. 그리고 이 중에서 가장 좋은 답, 곧 최적해는 집합의 크기가 가장 큰 부분 집합이다. 

이 문제의 가장 간단히 해결 방법은 $n$개의 팀에 대한 가능한 모든 부분집합을 만들고 그 중 시간이 겹치치 않는 팀 조합을 만들어보고 크기가 가장 큰 부분집합을 찾는것이다. 그러나 확인해야할 부분집합의 수는 $2^n$이기 때문에 복잡도가 너무 높다. 

탐욕적 방법으로 이 문제를 푸는 방법은 다양하다. 먼저 길이가 짧은 회의부터 하나하나 순회하면서 앞의 것들과 겹치지 않는 것들을 추가하는 방법을 생각해보자. 이 방법은 회의실이 사용 가능한 시간을 최대화 하려고 노력하기 때문에 그럴싸해보인다.

하지만 긴 회의를 두개를 연달아 개최하는 경우 최적값을 찾지 못한다. 이렇듯 탐욕법에서는 그럴듯하다고 해서 정답을 찾는 것이 아니다. 그래서 어렵다. 

정답을 말하자면 회의 시간 길이와 상관없이 가장 먼저 끝나는 회의를 선택하는 것이다. 가장 먼저 끝나는 회의를 선택하고, 이 회의와 겹치는 것들을 모두 지운뒤 다시 이중에서 가장 먼저 끝나는 회의를 선택하는 것을 반복하는 것이다. 

1. 주어진 목록 $S$에 남은 회의 중 가장 일찍 끝나는 회의 $S_min$을 선택한다.
2. $S_min$과 겹치는 회의를 $S$에서 모두 지운다.
3. $S$가 텅빌때 까지 반복한다. 

자 그러면 이 방법으로 가장 많은 회의를 선택할 수 있을까?

## 정당성 증명: 탐욕적 선택속성(greedy choice property)

알고리즘의 정당성 증명은 대다수가 일정한 패턴을 가진다. 이 증명패턴은 탐욕적 알고리즘이 항상 최적해를 찾는 다는 것을 두 가지 속성을 증명함으로써 밝힌다. 

여기서 증명해야할 속성은 동적계획법처럼 답의 모든 부분을 고려하지 않고 탐욕적으로 선택하더라도 최적해를 구할 수 있다는 것이다. 이 속성은 매우 중요하기 때문에 유식하게 탐욕적 선택속성(greedy choice property)라고 부른다. 

어떤 알고리즘이 이 속성을 만족할 경우, 우리는 각 단계에서 탐욕적인 선택을 해서 손해를 볼일이 없다는 것을 알 수 있다. 

앞서 회의 시간 길이와 상관없이 가장 먼저 끝나는 회의를 선택하는 것은 사실 탐욕적 선택속성이 성립하고 다르게 표현하자면 아래와 같이 이야기 할 수 있다. 

> 가장 종료시간이 빠른 회의($S_{min}$)를 포함하는 최적해가 반드시 존재한다. 



## [출전순서 정하기](https://algospot.com/judge/problem/read/MATCHORDER)


## [도시락 데우기](https://algospot.com/judge/problem/read/LUNCHBOX)

## [문자열 합치기](https://algospot.com/judge/problem/read/STRJOIN)







> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTExMzkwOTYwNjAsLTE5MzUxNDU3MjUsMj
MzNTYwNzksLTIwMzM1ODI2MjUsMTQ4ODA2MzIyMywtMTMwOTk3
NDg5MywtNzA5OTUyNTQ0LDIxMTYxOTU4NjksMTI2NzUzOTcyMi
wyNzQzNjM2MzMsLTcwODQwOTI1N119
-->