## 2장 빈 와이어링(묶기)

 - 빈 선언
 - 생성자 주입과 세터 주입
 - 빈 와이어링
 - 빈의 생성과 소멸 제어

애플리케이션 객체 간의 이러한 연관관계 형성 작업이 바로 종속객체 주입(DI) 개념의 핵심이며, 이를 보통 와이어링이라 한다.

스프링 컨테이너는 애플리케이션 내에서 빈생성 및 DI를 통해 , 객체 사이에 관계 조정에 책임을 지고 있다.  빈 와이어링 명세서를 나타내는데 스프링을 기본적인 3가지 와이어링 매커니즘을 제공한다.

 1. XML에서 명시적 설정
 2. 자바에서의 명시적 설정
3. 내재되어 있는 빈을 찾아 자동으로 와이어링

이왕이면 자동 설정을 추천하고 명시적인 설정이 적을수록 좋다. 그리고 명시적인 빈 설정을 해야 할때는(유지보수 않는 소스 코드에 대한 빈을 설정할때와 같이), 타입 세이프를 보장하고 강력한 JavaConfig가 XML보다 좋다. 마지막으로, 사용하고자 하는 XML 네임스페이스의 기능이 JavaConfig에 없을 경우 XML을 사용한다.

### 자동으로 빈 와이어링하기

스프링은 크게 두가지 방법으로 와이어링을 진행

 - 컴포넌트 스캐닝 : 스프링은 애플리케이션 컨텍스트에서 생성되는 빈을 자동으로 발견 한다. 
 - 오토와이어링 : 스프링은 자동으로 빈 의존성을 충족시킨다. 

앞으로 설명은 컴팩트 디스크와 디스크 플레이어 두가지로 설명한다. 

#### 발견 가능한 빈 만들기

먼저, CompactDisc라는 인터페이스를 정의

@Component로 애너테이트된 실제 디스크 구현 = SgtPeppers

@Component 애너테이션은 클래스가 컴포넌트 클래스임을 나타내고, 클래스를 빈으로 만들어야 함을 스프링에 단서로 제공. 하지만 컴포넌트 스캐닝은 기본적으로 켜 있지는 않다. 스프링을 통해 @Component로 애너테이트된 클래스를 찾기 위해 명시적인 설정을 작성할 필요가 있음. 


##### JavaConfig를 사용하는 방법
@Configuration
@componentScan
public class CDPlayerConfig{}

CDPlayerConfig 클래스는 자바로 스프링 와이어링 스펙을 정의
@ComponetScan은 설정 클래스로 동일한 클래스를 기본 스캐닝한다. 
CDPlayerConfig는 soundsystem 패키지에 있으므로 스프링은 그 패키지와 하위 패키지를 스캔하고 @Component로 설정된 클래스를 찾는다. CompactDisc 클래스를 찾고 자동으로 스프링 빈을 만든다. 

##### XML로 명시적 설정을 하는 방법

XML 설정을 통해서 컴포넌트 스캐닝을 활성화 하려면 스프링의 컨텍스트 네임스페이스(context namespace)로 부터 <context:componet-scan> 요소를 사용한다. 

<context:componet-scan base-package="soundsystem">

##### Component scanning으로 발견된 Compact Disc 테스트하기 











