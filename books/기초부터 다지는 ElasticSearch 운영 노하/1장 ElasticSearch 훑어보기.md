# 대상 독자

ElasticSearch 클러스터를 구축하고 운영하고자 하는 개발자, 데브옵스 엔지니어, 시스템 엔지니어를 대상으로 한다. 

# 책의 구성

크게 4개의 파트로 구성되어 있다. 

1. ElasticSearch를 시작하기 위한 과정을 다룬다.
	2. Rest
2. ElasticSearch 운영과 관련된 내용
3. ElasticSearch의 활용방안과 성능 수치를 확인하는 과정
4. ElasticSearch의 성능과 관련된 내용

# 1장 

## ElasticSearch란?

ElasticSearch는 루씬 기반의 오프 소스 검색 엔진이다. JSON 기반의 문서를 저장하고 검색할 수 있으며, 문서들의 데이터를 기반으로 분석작업도 가능하다.

| 항목 |특징|
|--|--|
| 준실시간 검색엔진 | 실시간이라고 할만큼 색인된 데이터가 빠르게 검색됨 |
| 클러스터구성| 한 대 이상의 노드를 클러스터로 구성하여 높은 수준의 안정성을 이루고 부하를 분산할 수 있음|
| 스키마리스 | 입력될 데이터에 대해 미리 스키마를 정의하지 않아도 동적으로 스키마 생성이 가능|
| Rest API| Rest API 기반의 쉬운 인터페이스로 비교적 진입장벽이 낮음|

ElasticSearch는 준실시간성 검색 엔진이다. 준실시간성 검색 엔진이란 실시간에 준하는 검색을 제공한다는 의미이다. JSON 문서가 입력되면 우선 ElasticSearch의 메모리에 저장되고 후에 샤드라는 데이터 저장공간에 저장되고 문서를 검색할 수 있게 된다.

준실시간성은 refresh_interval이라는 파라미터의 영향을 받는다. 해당 파라미터를 조절하면 특정 시간 이후에 검색할 수 있게 변경할 수 있다. 

클러스터란 여러 대의 컴퓨터 혹은 구성 요소들을 논리적으로 결합하여 전체리르 하나의 커뮤터 혹은 하나의 구성요소처럼 사용할 수 있게 해주는 기술이다. 

클러스터로 구성하면 높은 수준의 안정성을 얻고 부하를 분산 시킬 수 있다. 임의의 Node1d에서 문제가 생겨도 해당 노드만 제외하면 나머지 노드들로 클러스터의 구성을 유지할 수 있기 때문이다. 따라서 전체 클러스터가 멈춰 버리는 일은 없다. 

클러스터를 구성하는 모든 노드는 메시 형태로 요청을 주고 받는다. 이 때문에 어떤 노드에서도 색인/검색 작업을 처리할 수 있다. 

메시 형태(mesh) - 모든 구성요소가 서로 논리적으로 연결되어 있어서 다른 노드들과 직접적으로 통신할 수 있는 네트워크 형태를 말한다. ElasticSearch도 클러스터를 구성 하는 노드들 역시 Mesh형태 이기 때문에 각 노드가 직접 통신가능하고, 이를 통해 노드들 간의 부하분산를 수행할 수 있다.

Node2로 요청을 보내고 부하가 크면 Node3로 요청을 보낼 수도 있다. 

스키마리스는 문서를 입력하기도 전에 문서에 어떤 필드를 저장할 것인지 사전에 정의하지 않아도 된다는 의미이다. RDBMS와는 다르게 ElasticSearch를 미리 문서를 정의하지 않아도 된다. 또한 이미 입력된 정보와 최근에 입력한 정보사이에 필드가 추가되는 것과 같은 변경점에도 미리 스키마를 정의할 필요가 없다. ElasticSearch가 새로운 필드에 대한 스키마를 자동적으로 만든다.

ElasticSearch는 검색 엔진으로서 기능뿐만 아니라 입력된 문서들을 다양한 방식으로 분석할 수 있는 분석엔진으로도 사용이가능하다. ElasticStack이라는 로그 수집/분석 시스템이 전세계적으로 활용되고 있다. 

## 설치하기

ElasticSearch는 다양한 방법으로 설치할 수 있다. RPM은 리눅스에서 제공하는 레드햇 기반의 패키지 설치매니저이다. 간단하게 설치가 가능하고 ElasticSearch 실행과 중지를 위한 스크립트도 만들어 주기 때문에 편리하다. 

설치 환경은 CeonOS7 이다. 




> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbMTAzODI0NTkyNSw1NzcyNTQwNywtMjcyOD
k4MDg3LC0xNjk2NDQwNDgsMjY0MzEyMjUyLDIwNTc2ODc0MDJd
fQ==
-->