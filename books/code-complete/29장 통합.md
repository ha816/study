# 29장 통합

통합이란 용어른 개별적인 소프트웨어 컴포넌트를 하나의 시스템으로 결합하는 소프트웨어 개발 행위를 말한다. 

통합이라는 주제는 구현 순서와 밀접한 연관이 있다. 클래스나 컴포넌트를 작성하는 순서는 그것을 통합하는 순서에 영향을 미친다. 통합과 구현의 순서는 중요한 주제다. 

## 통합 빈도-단계별 또는 점증적 접근 방법

### 단계별 통합

기본적으로 단계별 통합이 일반적이다. 

1. 각 클래스를 설계하고 작성하고 테스트하고 디버깅한다. 즉 단위개발을 한다
2. 클래스를 하나의 큰 시스템으로 결합한다
3. 전체 시스템을 테스트하고 디버깅한다. 

이 통합의 문제점은 시스템에 있는 클래스가 처음 통합될때 불가피하게 새로운 문제점이 발생하고 원인이 발생한 곳을 예상할 수 없다는 것이다. 

수많은 클래스가 이전에는 한번도 함께 동작해 본적이 없기 때문에 모든 클래스를 의심해야 한다. 

발생한 지점을 모르는 것은 갑자기 한순간에 발생한다는점에서 심각하다. 이러한 이유로 단계별 통합을 빅뱅 통합이라고도 한다. 

아주 작은 프로그램에서는 단계별 통합이 최고의 접근 법이다 하지만 대부분의 경우라면 이 통합법을 사용하지 말자.

### 점증적 통합

작은 단위로 프로그램을 작성하고 테스트 한 다음 한번에 하나씩 코드를 결합한다.

1. 크기가 작고 기능적인 부분을 개발한다. 그러한 부분을 전체적으로 테스트하고 디버깅을 하고 통과하면 이 기능은 뼈대 역할을 하게 된다.
2. 클레스를 설계하고 코드를 작성하고 테스트 및 디버깅 한다.
3. 새로운 클래스를 뼈대에 통합한다. 뼈애와 새로운 클래스를 결합한 것을 테스트한다. 잘 동작한다면 2번 을 반복한다.

#### 점증적 통합의 이점

* 오류를 찾기가 쉽다. 
	* 새로운 문제가 발생하면, 추가한 새로운 클래스와 관련이 높다. 
* 시스템이 프로젝트 초기부터 작동한다. 
* 진행 상황을 좀 더 잘 관찰 할 수 있다.
* ...

### 점증적 통합 전략

점증적 통합은 컴포넌트를 구현하는 순서가 통합되는 순서와 맞아야 한다.

#### 하향식 통합

계층 구조 상위에 있는 클래스를 먼저 작성하고 토압한다. 상위 클래스라고 하면, 메인 윈도우나 응용프로그램 제어 루프, 자바 main함수 와 같은것을 포함하는 객체를 말한다. 

중요한 특징은 클래스사이의 인터페이스를 신중하게 명시해야 한다는 것이다. 디버깅 하기 가장 어려운 오류는 어느 한 클래스에 영향을 미치는 오류가 아니라 클래스 사이에 미묘한 상호작용으로 발생하는 오류다. 주의 깊게 인터페이스를 명시하면 그런 문제를 줄일 수 있다.  

장점 
1. 시스템의 제어 논리 구조를 비교적 일찍 테스트 할 수 있다는 장점이 있다. 구조 상위에 있는 클래스는 모두 많이 사용되기 때문에 개념적인 설계상 문제점이 빨리 노출된다. 
2. 프로그램 초기부터 부분적으로 동작하는 시스템을 완성할 수 있다. 
3. 하위 수준 설계 세부 사항이 완성되기 전에 코드를 작성할 수 있다.

단점
1. 순수한 하향식 통합은 까다로운 시스템 인터페이스를 마지막 까지 사용해 볼 수 없다. 하위 수준에서 발생할 수 있는 문제점을 미리 알기가 힘들다.  만약 하위 수준에서 발생하는 문제점이 치명적이라면 어마어마한 개선이 필요하다.
2.  하향식으로 통합하귀 위해 엄청나게 많은 스텁 코드가 필요하다. 많은 저수준 클래스가 통합되지 않았다는 것은 통합 중간에 수많은 스텁이 필요하다는 뜻이다. 
3. 클래스 집합에 최상위라는 개념이 없으면 하향식 통합을 할수가 없다. 상위의 위치가 주관적이다.

순수한 하향식 통합의 좋은 대안은 그림처럼 수직으로 나누는 접근 방법이다. 접근 방법에서 시스템을 부문별로 나누어 하향식으로 구현한다. 순수학 하향식 통합을 실무에 적용하기는 불가능 하지만 가장 일반적인 접근 방법이다.

### 상향식 통합

상향식통합에서는 계층 구조 맨 아래부터 클래스를 작성하고 통합한다. 

장점
1. 오류의 원인을 통합되고 있는 단일 클래스로 제한하기 때문이 오류찾기가 쉽다.
2. 까다로울수 있는 시스템 인터페이스를 초기에 사용한다. 즉 필요한 기능을 제대로 제공하는지 바로 알 수 있다.

단점
3. 마지막에 가서야 고수준 시스템 인터페이스를 통합할 수 있다. 시스템이 상위 수준에서 개념적인 설계상 문제를 가지고 있다면 구현과정에서 발견이 어렵다.
4. 통합을 시간하기 전에 전체 시스템 설계를 마쳐야 한다. 그러면 설계 시 다루지 않았던 가정이 저수준 코드게 포함되게 되며 저수준 코드에서 발생한 문제점을 해결하려고 상위 수준 클래스를 설계해야 하는 상황이 일어 난다. 저수준의 세부사항이 상위 수준 클래스의 설계에 영향을 미치는 것은 이상하다.

순수한 상향식 방법은 드물고 부분적으로 통합하는 하이브리드 접근법을 쓴다.


### 샌드위치 통합
앞서 이야기한 순수한 하향식 통합과 상향식 통합의 문제 때문에 몇몇 전문가들은 샌드위치 접근 방법을 권장한다.

우선상위 수준에서 비지니스 클래스를 통합한다. 그리고 하위 수준에서 널리 사용되는 유틸리티 클래스를 통합한다. 여기서 고수준 클래스와 저수준 클래스가 샌드위치의 빵역할을 한다. 

중간 클래스는 나중까지 남겨놓고 원하는대로 통합한다.

이 접근법은 순수한 상향식이나 하향식 토앟ㅂ의 엄격함을 피해갈 수 있다. 

### 위험 지향적인 통합

어려운 부분 우선 통합이라고 불린다. 이 방법도 최상위와 최하위 클래스를 먼저 통합하고 중간 수준 클래스를 나중에 통합한다. 

위험지향적인 통합은 각 클래스에 구현하기 어려전 정도를 결정하여 그 부분을 먼저 구현한다. 경험적으로 최상위 인터페이스에 위험요소가 많기 때문에 인터페이스를 먼저 통합한다. 결과적으로 난이도가 쉬운 중간 클래스는 가장 나중에 통합된다.

### 기능 지향적인 통합

한번에 




#### 상향식 통합


#### 드위치 통합

#### 위험 지향적인 통합

#### 기능 지향적인 통합 

#### T-자형 통합

#### 통합 접근 방법 요약

## 29.4 일일 빌드와 스모크 테스트

> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTczNDk4NDk2LDEyMjY1OTc4NzEsLTY5MT
A1MTcyMCwtMjA3MDA0NzU4NSwtMTIzMDQ0Mjc5MSwtNDgyMjA4
MDAzXX0=
-->