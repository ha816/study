# JVM 이해하기

JVM은 프로그램이 실행되는 플랫폼이다. 
각 운영체제와 아키텍처용으로 만들어져 있고 운영체제와 애플리케이션 사이에 위치하면서 애플리케이션이 플랫폼에 상관없이 독립적으로 실행되도록 한다. 


## GC(Garbage Collection)

> 메모리는 어떻게 할당하는가?

new 키워드는 자바 heap영역에 메모리를 할당한다. 힙은 애플리케이션 영역에 접근할 수 있는 메모리의 영역이다. 객체를 할당할때 이용할 수 있는 메모리가 충분치 않으면 JVM은 가비지 컬렉션을 이용해 힙에서 메모리를 재사용하려고 한다. 그래도 충분한 메모리가 없으면 OutOfMemoryError가 발생하며 JVM이 종료된다. 

힙은 제네레이션이라는 몇 가지 영역으로 구분된다. 가비지 컬렉션에서 객체가 수집 대상에서 제외된다면 다른 제너레이션으로 옮겨진다. 예를 들어 older 제너레이션은 가비지 컬렉션이 자주 수집하지 않는 객체가 저장되어 있다. 이미 오랫동안 제거 되지 않았음이 증명된 것으로 가비지 컬렉터가 수집할 가능성이 낮다. 

객체가 처음 생겼을때는 Eden이라는 메모리영역에 할당된다. 그 후에 가비지 컬렉션의 수집 대상에서 제외되면 Survivor이라고 하는 메모리 영역으로 간다. 이 공간에서도 수집 대상에서 제외되는 객체는 Tenured에 옮겨진다. 이 제네레이션은 더 낮은 빈도로 가비지 컬렉터의 대상이 된다. 

마지막으로 Permanent, PermGen이라고 하는 제네레이션도 있다. 여기 속한 객체는 가비지 컬렉션에서 선택되지 않고, 일반적으로 String




> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE1NTM1ODA4NywxMDY5MzcyMDU0XX0=
-->