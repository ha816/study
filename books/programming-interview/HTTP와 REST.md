# HTTP

>HTTP란?

HTTP(Hyper Text Transfer Protocol)는 인터넷을 통해 데이터를 주고 받는데 하나의 프로토콜이다. HTTP는 월드와이드웹(WWW)을 통해 소통하는데 주로 사용된다. 

## HTTP 요청
HTTP 프로토콜을 사용하여 원하는 정보를 요청한다. 아주 간단한 예로 요청 내용탐캣과 같은 HTTP 서버는 요청을 체계적으로 처리하여 적절한 응답을 한다. 

## HTTP 요청

HTTP 요청은 아래와 같다. 
```
GET / HTTP/1.1
```
위 요청은`GET / HTTP/1.1` 의 의미는 순서대로 Get메서드를 이용해서 '/' 페이지를 얻고 '1.1'버전의 HTTP을 사용한다라는 의미이다. 

## HTTP 응답은 아래와 같다. 응답의 경우 크게 헤더와 컨텐츠로 나누어진다. 
```
HTTP/1.0 200 OK
Server: Apache
X-Content-Type: nosniff
Content-Length: 6071
Content-Type: text/html; charset=utf-8
...
<!DOCTYPE html>
...
CONTENT
</html>
```
응답의 경우 크게 헤더와 컨텐츠로 나누어진다. 
첫번째 행 `HTTP/1.0 200 OK`은 1.0버전의 HTTP 프로토콜로을 잉요하여 클라이언트에 응답을 하고 성공적인 응답인 200 OK 결과를 보낸다.(이 서버는 1.1버전의 요청을 받아들인 후 1.0응답으로 응답한다)
두번째 행 부터는 응답에 대한 관련 메타 정보인데이터가 있는 응답 헤더들이다. 
Content-Type 헤더로는 html 뿐만 다양한 컨텐츠가 가능하다. 예를 들면 순수한 텍스트나 바이너리 데이터도 된다. 

## HTTP 메서드

>컨텐츠으로는 HTML 뿐만 아니라 순수한 텍스트나 바이너리 데이터도 된다. 일반적인 컨텐츠 형식은 Content-type 헤더로 들어간다. 

## HTTP 메서드란?

HTTP 메서드는 마치 자연어에서 동사와 같은 역할을 한다. 웹 서버에 요청한 자원에 대해서 구체적으로 어떤 동작을 할지 알린다.   
일반적으로 서버가 구현해야을 이용해서 무엇을 할지 알려주기 때문이다.  서버가 일반적으로 구현하는 메서드는 중 HEAD, GET, POST가 있다.

> HEAD? OPTIONS?는 필수적인 메서드이다. 

HEAD
: GET 요청과 비슷하지만 응답 코드와 헤더만 반환한다. 서버의 다운 여부 점검(Health Check)이나 웹 서버 정보(버전 등)등을 얻기 위해 사용될 수 있다.  

OPTIONS
: HTTP 문서에서 OPTIONS 메서드를 구현하라고 강조하는데, 이 메서드는 클라이언트 입장에서 서버의 어떤 메서드를 사용할 수 있는지 알려주는 메서드이다. 

> POST와 PUT의 차이

POST와 PUT의 차이점이 혼란스러울수 있다. POST는 자원을 새로 생성하고 PUT은 기존 자원이 없으면 새로 생성하고 있으면 덮어쓴다. 다른 말로는 PUT은 **멱등성**(idempotent)성질을 가지은 따르고 POST는 가지따르지 않는다. 


##추가적으로 HTTP 응답 코드

> HTTP 응답코드란?

응답 코드는 요청을 받은 서버가 요청에 대한 응답의 종류를 함축하여 나타내는 코드다. 세 자리 숫자로 구성되는데,명세에서는 OPTIONS라는 메서드를 구현하라고 강조하는데, 이 메서드는 클라이언트 입장에서 어떤 메서드를 사용할 수 있는지 알려주는 메서드이다. 

## HTTP 응답 코드

응답 코드의 첫 번째 숫자에 따라 종류가 나눠진다. 예를 들어응답의 분류가 있는데, 2XX로 시작하는 코드는 요청과 응답이 성공적이라는 것을 알려준다. 

* 201 Created: 주로 PUT요청이 성공했고 자원이 생성되었다는걸 말한다.
* 204 Content: 요청은 성공했지만, 서버는 추가 컨텐츠 정보를 제공하지 않는다. 보통 PUT, POST, DELETE에 성공했을때 사용한다.

4XX는 클라이언트의 에러, 즉 요청이 잘못되었다는것을 뜻한다. 
* 400 Bad Request: 클라이언트가 잘못된 요청을 보냈다. 보통 필수적인 파라미터를 뺀경우 많이 발생한다.
* 403 Forbidden: 로그인했지만 주어진 자원을 요청할 권한이 없음
* 404 Not Found: 요청한 자원이 존재하지 않음
* 405 Method Not Allowed: 지원하지 않는 HTTP 메서드를 이용

5XX는 서버측에 문제가 있다는 응답이다. 대개는 서버에서 조취를 취해줘야 예외상황이 해결된다. 

* 500 Internal Server Error: 일반적인 메세지로, 보통 전체 서버를 이용할수 없는 상황이 아니라 일부의 자원만 이용할 수 없을때 발생한다.
* 503 Service Unavailable: 현재 서버를 이용할 수 없다. 일시적인 중단 상태이다. 

# REST(Representational State Transfer)

> REST란? REST API란?

REST는 REpresentational State Transrfer의 줄임말로 **시스템간 API를 만드는데 활용하는 아키텍처 스타일의 일종이다.** 사전적 의미로 보면 '대세의 추상적 상태 전송'인데 사실 와닿는 말은 아니다. 그보다는 REST를 아키텍처 스타일에서 가장 중요한 것은 **리소스(Resource)** 개념이다. 리소스는 서버에서 관리하고 있는 정보를 클라이언트에 제공할 용도로 가공한 정보이다. 따라서 리소스는 웹에 공개되고 리소스에 CRUD 조작을 위한 수단으로 바로 REST API가 사용된다. 

공개하는 리소스에 그 리소스를 고유하게 식별할 수 있는 **URI(Universal Resource Identifier)** 를 할당 할 수 있다.
따라서 만약 URI를 안다면 어디서든 같은 리소스로 접근이 가능하다. 한 URI는 리소스 하나 나아가 다수의 리소스로 정의가 가능하다.래와 같은 의미로 이해하도록 하자. **REST는 시스템간 API를 만드는데 HTTP를 활용하도록 하는 규격이다.** 

REST의 목적 중 하나는 이미 널리 퍼져 사용하는 HTTP 프로토콜을 사용하여 손쉽게 시스텀간 API 통신을 하도록 돕는 것이다. 

**REST URI는 하나의 자원 또는 다수의 자원의 묶음을 말한다.** 예를 들어 URI가 user/1234라면 id는 ID가 1234인 사용자의 리소스 정보,  URI가세부정보. /users라면 다수는 모든 사용자의 리소스 정보임을 추측목록일것으로 생각할 수 있다. 

REST는 리소스에 기반을 두기 때문에 리소스 기반 아키텍처(Resource Oriented Architecture)의 일종이다. 또 REST의 또 하나의 장점은 이미 널리 사용하는 HTTP 프로토콜을 사용하여 손쉽게  API 통신을 하는 것이다. 잘 알려진 프레임워크에서는 모두 REST 서비스를 지원한생성할 수 있다. 
REST 서비스의 중요한 기능 하나는 또 멱등성의 개념인데 REST에서 PUT, DELTE, GET요청은 여러번 호출해도 결과가 달라지지 않는다. 멱등성의 장점은 클라이언트가 요청이 성공적이었는지 여부에 상관없이 요청을 여러번 다시 보내도 된다는 것이다. 


  


> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTkwOTEwNzA1LDEyMjAyOTI1ODVdfQ==
-->