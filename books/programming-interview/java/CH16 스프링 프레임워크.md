# 스프링 프레임워크

스프링 프레임워크는 POJO(Plain Old Java Object)를 생성 및 관리하는 애플리케이션 컨텍스트(DI 컨테이너)라는 핵심 컨테이너에서 
 의존성 주입을 이용해 애플리케이션을 작동한다. 

POJO는 복잡한 프레임워크용 인터페이스를 구현하거나 앱클리케이션에서 사용하려는 추상 클래스를 확장하는 것 같은 불필요한 제한이 없다는 장점이 있다. 

POJO라는 개념은 초기 부터 EJB(Enterprise Java Beans)를 고려해 만들어졌다. 기존에는 단순한 도메인 객체인데도 복잡한 패턴을 따라야 하므로 애플리케이션 서버에서 사용하려면 여러 인터페이스를 구현해야 했다. 코드는 손상되기 쉽고 테스트하기 어려워 졌다. 

결국 이런 문제 대문에 스프링 같은 프레임워크가 만들어 졌다. 

## 스프링의 핵심 기능과 애플리케이션 컨텍스트

> 스프링에서 의존성 주입은 어떻게 하는가?

의존성 주입은 전략 패턴(Strategy Pattern)을 따른 방법이다. 스전략 패턴을 사용하면 특정 구현 객체에 국한 되지 않고 외부에서 주입해준 객체를 사용하기 때문에 결합도가 낮아진다. 

스프링에서는 애플리케이션 컨텍스트(DI 컨테이너)라는 외부 컨테이너에서 애플리케이션에서 사용하려는 객체를 생성, 관리, 주입을 한다. 

애플리케이션 컨텍스트에서 다루는 모든 인스턴스를 빈(Bean)이라 한다. 애플리케이션 컨텍스트를 생성할때는 사용할 빈을 설정해야 한다. 이때 자바 기반 설정 방식, XML 기반 설정 방식, 컴포넌트 스캔 기반 설정 방식이 있다. 
```
ApplicationContext context = new AnnotationConfigApplicationContext(config.class); //config 클래스는 @Configuration 애너테이션을 클래스 상단에 붙이고 @Bean 애너테이션을 사용할 객체를 생성하는 메서드마다 붙인다.
ApplicationContext context = new ClasspathXmlApplicationContext(config.xml); //config.xml에 있는 정보로 컨텍스트를 생성한다. <bean> 태그로 필요한 빈들을 설정한다.
```

컴포넌트 스캔 설정 방식은 DI 컨테이너에서 관리할 빈 자체에 빈을 정의하는 애너테이션을 부여한다. **이 애너테이션이 붙은 클래스를 탐색해서 DI 컨테이너에 자동으로 등록하는데 이를 컴포넌트 스캔(Component Scan)이라고 한다.** 또한 의존성 주입도 이제까지 처럼 명시적으로 설정하는 것이 아니라 **애노테이션이 붙어 있으면 DI 컨테이너가 자동으로 필요로 하는 의존 컴포넌트를 주입하며 이를 오토 와이어링(Auto Wiring)이라 한다.**

자바 기반 설정 방식과 XML 기반 설정 방식이 있는데 @ComponentScan을 @Configuration이 붙은 설정 
```
@Configuration
@ComponentScan("com.example.demo")
public class AppConfig { 
... 
}
```



<!--stackedit_data:
eyJoaXN0b3J5IjpbLTk3ODQwMTY2NiwxMDc2MjYxMDI1LC02MD
M4NjQ3MywtNzg2MDQ3MTldfQ==
-->