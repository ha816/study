# Overview

효율적으로 애플리케이션을 관리하기 위해 자주 사용되는 네임 스페이스, 컨피그맵, 시크릿의 사용법을 알아보겠습니다.

# Namespace

네임 스페이스는 용도에 따라 컨테이너와 그에 관련된 리소스들을 구분 지어 관리할 수 있는 일종의 논리적 그룹이 있으면 좋을 것 입니다. 쿠버네티스에서는 리소스를 논리적으로 구분하기 위해 네임 스페이스라는 오브젝트를 제공합니다. 

## Namespace 개념

네임 스페이스는 namespace 또는 ns라는 이름으로 쿠버네티스에서 사용할 수 있습니다. 
```
kubectl get namespaces

NAME
default
kube-public
kube-system
```
어떤 네임스페이스를 생성하지 않았더라도 기본적으로 3개의 네임 스페이스는 존재합니다. 각 네임 스페이스는 논리적인 리로스 공간이기 때문에 각 네임 스페이스에는 포드, 레플리카셋, 서비스와 같은 리소스가 따로 존재합니다.  만약 default 네임스페이스의 생성된 포드를 확인하려면 아래와 같은 명렁어를 수행하면 됩니다. 

```
kubectl get pods --namespace default -- default 네임스페이스 구성보기
```

default는 쿠버네티스를 설치하면 자동으로 설정되는 네임스페이스입니다. kubectl 명령어로 쿠버네티스 리소스를 사용할때 기본적으로 default 네임스페이스를 사용합니다. 

```
kubectl get pods -n kube-system
...
```

위의 명령어를 수행해보면 생성한 적 없는 포드가 여러개 실행되고 있습니다. kube-system 네임스페이스는 쿠버네티스 클러스터 구성에 필수적인 컴포넌트들과 설정값 등이 존재하는 네임스페이스 입니다. 지금껏 써왔던 default 네임스페이스와 논리적으로 구분되어 있기 때문에 위의 명렁어를 수행했을때 나오는 많은 포드들을 본적이 없는것 입니다. 

>kube-system 네임스페이스는 쿠버네티스에 대한 충분한 이해 없이는 건드리지 맙시다. 예상치 못하게 쿠버네티스 클러스터가 동작하지 않을 수도 있기 때문입니다. 

물론 서비스, 레플리카셋을 비롯한 여러 리소스들도 각 네임스페이스에 별도로 존재합니다. 네임스페이스는 쿠버네티스의 리소스를 논리적으로 묶을 수 있는 가상 클러스터처럼 사용할 수 있습니다. 쿠버네티스 클러스터를 여러명이 동시에 사용해야 한다면 사용자마다 네임스페이스를 별도로 생성해 사용하도록 설정할 수도 있습니다. 

앞으로 여러분이 네임스페이스를 사용하는 경우는 대부분 모니터링, 로드 밸런싱 인그레스등 특정 목적을 위한 용도가 대부분일것 입니다. 그렇지만 각 네임스페이스는 논리적으로 구분된것일 뿐 물리적으로 격리되어 있진 않습니다. 예를 들어, 서로 다른 네임 스페이스에서 생성된 포드가 같은 노드에 존재할 수 있습니다. 

## Namespace 사용하기

```yaml
apiVersion: v1
kind: Service
metadata: 
  name: externalname-svc
spec:
  type: ExternalName
  externalName: my.database.com

```

> Written with [StackEdit](https://stackedit.io/).
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTIzNzAyMDA3LDE0OTMzOTAzMDMsLTM0ND
MwMDczNCwtNzQ3NzY0MDU1LDE2NTczMzcxMTMsLTE3NTAxMDQx
OTUsLTEzOTQ5NDY3NDEsLTE4NjcyMDEwMDMsMzQ3Mjg1NDUzLD
M1MTgxNDE4Nyw5MzcwNzA2OSw0MTEwMTc2NjFdfQ==
-->